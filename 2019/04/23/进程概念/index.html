<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta name="keywords" content="进程概念, haote216">
    <meta name="description" content="ps：提供了进程的一次性的查看，它提供的查看结果并不是动态连续的。    ps aux：显示所有的进程    ps -l：将目前属于您自己这次登入的PID与相关信息列示出來(只与自己的bash有关)grep：是一种强大的文本搜索工具，全面搜">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>进程概念 | haote216</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
</head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">haote216</span>
                    </a>
                </div>
                

<a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">haote216</div>
        <div class="logo-desc">
            
            记忆中的你最终不知了去向
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/haote216/haote216.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link">
    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1419367121" class="tooltipped" data-tooltip="QQ联系我: 1419367121" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="mailto:1419367121@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>





    <a href="https://github.com/haote216" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>


</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/haote216/haote216.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewbox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/>
    </svg>
</a>
        
    </nav>
</header>





<div class="bg-cover post-cover" style="background-image: url('/medias/featureimages/11.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        进程概念
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }
</style>
<div class="row">
    <div class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/进程/" target="_blank">
                                <span class="chip bg-color">进程</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Linux/" class="post-category" target="_blank">
                                Linux
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-04-23
                </div>

                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>ps：提供了进程的一次性的查看，它提供的查看结果并不是动态连续的。<br>    ps aux：显示所有的进程<br>    ps -l：将目前属于您自己这次登入的PID与相关信息列示出來(只与自己的bash有关)<br>grep：是一种强大的文本搜索工具，全面搜索正则表达式并把匹配的行打印出来<br>top：打开Linux下的任务管理器指令（对进程时间监控）            q退出</p>
<p>/proc：proc文件系统，在Linux中有额外的机制可以为内核和内核模块将信息发送给进程– /proc 文件系统。最初设计的目的是允许更方便的对进程信息进行访问</p>
<p>cwd：当前进程的工作目录</p>
<p>exe：当前进程对应的可执行文件的目录</p>
<pre><code>进程控制kill：向目标进程发信号           

        kill -l：查寻可以给进程发的信号的指令
        kill -9 PID：终止进程
        kill -19 PID：暂停进程
</code></pre><p>./test &amp;：把test这个程序放在后台执行</p>
<p>​    并发：在一个CPU下多个进程进行切换，在一个时间段内，多个任务都得到推进叫做并发。</p>
<p>​    并行：在多CPU体系下，在一个时刻下，多个进程都在运行的情况叫做并行。</p>
<p>​    IO密集型：（I/O bound）:任务大量进行对I/O设备（硬盘/内存）进行读写操作。</p>
<p>​    CPU密集型：（CPU bound）:任务大量要求CPU进行计算、逻辑判断等功能，对CPU占有率高。</p>
<p>计算机存储器：1.内部存储器（内存）：易失性存储介质，速度快</p>
<p>​                           2.外部存储器（主要是磁盘）</p>
<p>​                                                   1》硬盘：永久性存储介质</p>
<p>​                                                   2》软盘：</p>
<p>编译好的程序是在计算机硬盘上存在的一个二进制文件。</p>
<h5 id="冯·诺依曼体系结构"><a href="#冯·诺依曼体系结构" class="headerlink" title="冯·诺依曼体系结构"></a>冯·诺依曼体系结构</h5><p>CPU集成俩个硬件，运算器和控制器。</p>
<p>输入或者输出设备，统称为外设。</p>
<p>这里的存储器指的是内存。</p>
<p>在数据层面上，CPU只能对内存进行读写，不能访问外设。</p>
<p>处理速度：CPU&gt;&gt;内存&gt;&gt;外设</p>
<p>离CPU越近的存储介质速度越快，离CPU越远的存储介质速度越慢。</p>
<p>寄存器—-》缓存—-》内存—-》硬盘—-》网盘</p>
<p>所有设备只能直接和内存打交道。</p>
<p>为什么硬盘上的程序文件要被加载到内存去运行？</p>
<p>答：CPU不能直接和硬盘接触，只能去内存中读取数据。</p>
<h4 id="操作系统Operator-System-OS"><a href="#操作系统Operator-System-OS" class="headerlink" title="操作系统Operator System(OS)"></a>操作系统Operator System(OS)</h4><h6 id="任何计算机系统都包含一个基本的程序集合，称为操作系统。"><a href="#任何计算机系统都包含一个基本的程序集合，称为操作系统。" class="headerlink" title="任何计算机系统都包含一个基本的程序集合，称为操作系统。"></a>任何计算机系统都包含一个基本的程序集合，称为操作系统。</h6><p>操作系统搭建在一堆硬件上，对硬件进行调度管理协调，然后让硬件跑起来。</p>
<p>但是操作系统和硬件之间并不是直接管理的关系，中间还有一套驱动，驱动一般都是对应的厂商提供的。</p>
<p>1.内核（进程管理、内存管理、文件管理、驱动管理）</p>
<p>2.外壳（函数库、shell）</p>
<h6 id="设计OS目的"><a href="#设计OS目的" class="headerlink" title="设计OS目的"></a>设计OS目的</h6><p>与硬件交互，管理所有的软硬件资源；为用户程序提供一个良好的执行环境。</p>
<h6 id="系统调用和库函数"><a href="#系统调用和库函数" class="headerlink" title="系统调用和库函数"></a>系统调用和库函数</h6><p>操作系统会对外会表现为一个整体，但是会暴露自己的部分接口，让用户使用，这部分由操作系统提供的接口，叫做系统调用。</p>
<p>系统调用在使用上，对用户要求比较高，所以有的开发者对系统调用就行了封装，从而形成了第三方库。</p>
<h4 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h4><p>进程包含代码、数据、PCB、虚拟地址空间、页表</p>
<p>进程是程序的一个执行实例，正在执行的程序。担当分配系统资源（CPU时间，内存）的实体。</p>
<h6 id="描述进程PCB"><a href="#描述进程PCB" class="headerlink" title="描述进程PCB"></a>描述进程PCB</h6><p>进程信息被放在一个叫做进程控制块的数据结构中，可以理解为进程属性的集合，称为PCB，Linux下的PCB：task_struct。PCB包含了目标进程的所有信息。</p>
<p>task_struct是PCB的一种，是Linux内核的一种数据结构，它会被装载到RAM（内存）里并包含着进程的信息。</p>
<p>task_struct内容分类：</p>
<p>标识符PID：描述本进程的唯一标识符，用来区别其他进程。类似于学号</p>
<p>状态：任务状态，退出代码，退出信号</p>
<p>​          r状态    s状态</p>
<p>​          在系统中，r状态仅仅表明该进程允许被放在CPU里去运行</p>
<p>​          再搞一条链表，只放r状态的进程的PCB，按优先级排好，叫做调度队列</p>
<p>优先级：相对于其他进程的优先级。系统进程数目众多，而CPU资源只有少量甚至一个，所以进程之间是具有竞争属性的。为了高效完成任务，更合理竞争相关资源，便具有了优先级。</p>
<p>程序计数器： 保存了将要取出的下一条指令的内存地址。在指令取出之后，程序计数器就被更新以便指向后继的指令。</p>
<p>​        计算机怎么知道代码执行到哪一步呢？</p>
<pre><code>     CPU寄存器当中包括了一个重要的寄存器（PC指针：保存着当前正在执行指令的下一条指令的地址），也就是这里的程序计数器。所以CPU要读取指令时，找PC指针，拿着PC指针里面的地址去找，读取了指令后，这个PC指针默认地址向下移。
</code></pre><p>​                时间片：任何一个进程只要在CPU上运行，超过一定的时间范围后，强制从CPU上剥离下来。</p>
<p>是一个进程占有CPU资源的基本单位。</p>
<p>​        在单CPU的体系环境下，任何一个时刻只有一个进程在运行，但是，在一个时间段内，可以看到多个进程在运行。事实上，由于一台计算机只有一个CPU，所以永远不可能真正地同时运行多个任务。这些进程看起来像同时运行的，实则是轮番穿插地运行，由于时间片通常很短很短，所以用户不会感觉到。</p>
<p>上下文数据：把一个进程运行时CPU上寄存器上的数据叫做上下文数据。进程1的上下文数据存放在PCB中。进程1/进程2/进程3：叫做进程间切换。进程间切换必须要保存/恢复硬件上下文数据。</p>
<p>内存指针：PCB里能找到目标进程的代码和数据。</p>
<p>I/O状态信息：包括显示的I/O请求，分配给进程的I/O设备和被进程使用的文件列表。</p>
<p>记账信息：包括处理器时间总和，使用的时钟数总和，时间限制，记账号等。</p>
<p>getpid()：获取进程PID的函数  头文件：sys/types.h     unistd.h</p>
<p>getppid()：获取父进程PID的函数               一个进程对应的父进程的PID号是唯一的。</p>
<p>​                                                                        父进程是bash命令行解释器</p>
<p>fork：通过系统调用创建进程（通过代码创建进程，从进程中创建进程）</p>
<p>​    fork创建出来的子进程PCB是以父进程为模板的，父子进程代码共享，但是数据是私有的。</p>
<p>​        fork调用之后，有俩个进程要执行return语句。执行后，有俩个返回值，给父进程返回子进程的PID，给子进程返回0。</p>
<p>​        进程运行时具有独立性，体现在PCB不同、数据不同、代码不同。一个进程崩溃了不会影响别的进程。进程之间不相关，父子进程之间照样不相关。即使父子进程之间代码共享，一旦程序跑起来成为进程之后，都不能修改代码，都是只读的。</p>
<p>​        fork之后通常要用if分流：返回值&lt;0，创建失败。返回值==0，子进程工作。返回值&gt;0，父进程工作。</p>
<h5 id="进程状态"><a href="#进程状态" class="headerlink" title="进程状态"></a>进程状态</h5><p>R：运行状态，并不意味着程序一定在运行中，它表明程序要么在运行中要么在运行队列里。</p>
<p>S：睡眠状态，意味着进程在等待事件完成，重点是这个进程可以被终止，可以被杀掉。</p>
<p>D：磁盘休眠状态（深度休眠状态），在这个状态的进程通常会等待IO的结束，不可以被中断，防止被杀掉。</p>
<p>Z：僵尸状态</p>
<p>T：停止状态</p>
<p>X：死亡状态</p>
<h6 id="僵尸进程："><a href="#僵尸进程：" class="headerlink" title="僵尸进程："></a>僵尸进程：</h6><p>当子进程退出但不会立即释放子进程的PCB，会保存一段时间，并且会一直在等待父进程读取退出码。这段时间进程是僵尸状态。</p>
<p>僵尸进程会以终止状态保持在进程表中。</p>
<p>僵尸进程危害：</p>
<p>父进程一直不读取，那么子进程一直处于僵尸状态。</p>
<p>用数据维护退出状态，也属于进程基本信息，所以也保存在task_struct中，僵尸状态一直不退出，PCB一直都要维护。</p>
<h6 id="孤儿进程"><a href="#孤儿进程" class="headerlink" title="孤儿进程"></a>孤儿进程</h6><p>父进程先退出，子进程就称为“孤儿进程”。</p>
<p>孤儿进程被1号init进程（约等于系统）领养，当然要有inti进程（系统）回收。</p>
<h5 id="进程优先级"><a href="#进程优先级" class="headerlink" title="进程优先级"></a>进程优先级</h5><p>UID：代表执行者的身份</p>
<p>PID：代表这个进程的标识符</p>
<p>PPID：代表这个进程的父进程的标识符</p>
<p>PRI：代表这个进程的优先级，值越小越早被执行</p>
<p>NI：代表这个进程的nice值，表示进程可被执行的优先级的修正数值</p>
<p>PRI(new)=PRI(old)+nice</p>
<p>nice -n -5 ./test：开始执行程序就指定nice值</p>
<p>renice -5 -p 5200：PID为5200的进程nice设为-5</p>
<p>top进入后按”r”—&gt;输入进程PID—&gt;输入nice值：更改已存在的nice</p>
<h5 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h5><p>操作系统中用来指定操作系统运行环境的一些参数。在链接的时候通常就是环境变量帮助编译器查找动态静态库。在系统当中，环境变量通常具有全局特性</p>
<p>PATH：用来搜索可执行程序的路径</p>
<p>​        bin目录下存放着可执行文件，比如bin下的ls，如果想把自己的可执行文件例如myproc放到bin目录下，可以是可以，但不推荐，容易造成系统默认命令污染。</p>
<p>​    可以把当前路径加到环境变量PATH中去，用冒号做分隔符。PATH=$PATH：要被可执行的路径</p>
<p>HOME：当前用户的主工作目录，root用户和普通用户的HOME是不一样的。</p>
<p>HISTSIZE：保存历史命令记录的条数。</p>
<p>SHELL：当前Shell，它的值通常是/bin/bash。</p>
<p>查看环境变量：echo $环境变量名</p>
<p>获取环境变量：</p>
<ol>
<li><p>environ：系统提供的一个二级指针，就是指向环境变量表的一个指针，环境变量表就是一个个指向环境变量的指针的数组（字符指针数组），这个数组最后一个元素是空，每个指针指向一个以‘\0’结尾的环境字符串，</p>
</li>
<li><p>getenv();  </p>
<pre><code>int main(int argc,char* argv[],char* env[])
{
    printf(&quot;%s\n&quot;,getenv(&quot;PATH&quot;));
    printf(&quot;%s\n&quot;,getenv(&quot;SHELL&quot;));
}
</code></pre><p>获取PATH和SHELL环境变量的路径。</p>
<p>3.putenv();</p>
</li>
</ol>
<p>​    设置环境变量；</p>
<p>export MYENY=”10000000000000000”</p>
<p>环境变量可以由父进程传给子进程</p>
<h4 id="程序地址空间"><a href="#程序地址空间" class="headerlink" title="程序地址空间"></a>程序地址空间</h4><p>写时拷贝：指的是俩个任务可以同时自由读取内存，但任意一个任务试图对内存进行修改时，内存就会复制一份提供给修改方单独使用，以免影响到其他的任务使用。</p>
<p>内核只为新生成的子进程创建虚拟空间结构，它们复制于父进程的虚拟空间结构，但是不为这些段分配物理内存，它们共享父进程的物理空间，当父子进程中有更改相应的段的行为发生时，再为子进程相应的段分配物理空间。</p>
<p>系统调用：</p>
<p>fork：复制当前进程</p>
<p>exec：使用新的可执行映像覆盖当前可执行映像</p>
<p>clone：创建子进程并从指定位置开始执行</p>
<p>fork出来子进程后，父进程和子进程谁先运行？</p>
<p>答：用户不知道，是由系统决定的。</p>
<p>   I am child，pid：3275，g_val：300，&amp;g_val：0x80497c8</p>
<p>I am parent，pid：3274，g_val：100，&amp;g_val：0x80497c8</p>
<p>此时父子进程对应的地址相同，但这个地址绝不是真正地物理内存地址。并且对应的物理内存地址绝不相同。</p>
<p>我们在C/C++语言所看到的地址，全部都是虚拟地址！物理地址，用户一般看不到，由操作系统（OS）统一管理。</p>
<p>虚拟地址空间：</p>
<p>父子进程如何做到代码共享？</p>
<p>答：父进程通过页表访问物理内存地址上的代码，子进程也通过页表访问物理内存上的代码</p>
<p>虚拟地址空间的作用：</p>
<p>1.让每个进程拥有了相同、独立内存空间，相互之间不会干扰。</p>
<p>2.读写内存更安全。由于系统和MMU的限制，使得进程无法操作到其他进程的数据。</p>
<p>3.不连续的物理空间可以映射成连续的虚拟地址空间。</p>
<p>4.进程分配的内存空间只有在实际使用时，才会触发缺页异常来分配实际物理空间，从而最大程度减少了内存空间的浪费。</p>
<p>共享的本质：不同的进程取地址通过页表映射到相同的物理内存。</p>
<p>私有的本质：不同的进程取地址通过页表映射到不同的物理内存。</p>
<h5 id="内核进程调度队列："><a href="#内核进程调度队列：" class="headerlink" title="内核进程调度队列："></a>内核进程调度队列：</h5><p>linux内核2.6所采用的调度算法的时间复杂度是O（1）；</p>

            </div>
            <hr>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff;
        background-color: #22AB38;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff;
        background-color: #019FE8;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a class="reward-link btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">您的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs">
                        <li class="tab wechat-tab waves-effect waves-light"><a class="active" href="#wechat">微信</a></li>
                        <li class="tab alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('#reward .reward-link').on('click', function () {
            $('#rewardModal').openModal();
        });

        $('#rewardModal .close').on('click', function () {
            $('#rewardModal').closeModal();
        });
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="http://www.haote216.top" class="b-link-green">haote216</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2019/04/23/进程概念/" class="b-link-green">进程概念</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/04/25/多态/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="多态">
                        
                        <span class="card-title">多态</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">多态1.多态的概念多态就是不同的对象完成某个动作，产生不同的状态。
也就是不同继承关系的类对象，去调用了同一函数，产生了不同行为，就是多态。
2.多态的实现在继承中构成多态的俩个条件：
调用函数的对象必须是指针或者引用；被调用的函数必须是虚</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-04-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/C/" class="post-category" target="_blank">
                                    C++
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/概念/" target="_blank">
                        <span class="chip bg-color">概念</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/04/23/进程控制/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="进程控制">
                        
                        <span class="card-title">进程控制</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">进程控制进程创建fork函数：创建新进程，新进程为子进程，而原进程为父进程。
#include&lt;unistd.h&gt;
pid_t fork(void);
返回值：子进程中返回0，父进程返回子进程id，出错返回-1
fork之前父进</div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-04-23
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Linux/" class="post-category" target="_blank">
                                    Linux
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/进程/" target="_blank">
                        <span class="chip bg-color">进程</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div class="col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            

            

            
			
                <br>
                
                <span id="busuanzi_container_site_pv">
                    <i class="fa fa-heart-o"></i>
                    本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                </span>
                
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1419367121" class="tooltipped" data-tooltip="QQ联系我: 1419367121" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="mailto:1419367121@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>





    <a href="https://github.com/haote216" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input" autofocus>
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->



    <script src="/libs/others/clicklove.js"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


</body>
</html>